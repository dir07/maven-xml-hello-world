amazon-linux-extras install nginx1 -y
systemctl restart nginx
systemctl status nginx
nginx -v
cd /etc/nginx/
ls
mv nginx.conf nginx.conf.bk


 # use shell script vi nginx  ,    chmod +x nginx  ,  ./nginx  for above process
 #  cd /etc/nginx/ use only after script    #!/bin/bash
vi nginx.conf
 
events{
	worker_connections 1024;
}
http {
 keepalive_timeout 5;
 upstream tomcatServers {
	 keepalive 50;
	 server ip:8080; 
	 server ip:8080;  #  dont use like this  http://IP:8080/spring3-mvc-maven-xml-hello-world-1.0-SNAPSHOT/   only ip & port
	 server ip:8080;
}
server {
	listen 80;
	location / {
			  proxy_set_header  X-Real-IP $remote_addr;
			  proxy_set_header  X-Forwarded-For $Proxy_add_x_forwarded_for;
			  proxy_set_header  X-Forwarded-Proto $scheme;
			  proxy_set_header  Host $host;
			  proxy_pass http://tomcatServers;
	}
 }
}

nginx -t    #   to check syntax
nginx -s reload  # 
systemctl restart nginx    #
setsebool -P httpd_can_network_connect true  #  SElinux disabled 


